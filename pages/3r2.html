<!DOCTYPE html>
<html lang="en">
<head>
    <title>Fenglvv's Toon Shader</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="../assets/css/main.css"/>
    <noscript>
        <link rel="stylesheet" href="../assets/css/noscript.css"/>
    </noscript>
</head>
<body class="is-preload">

<div id="wrapper" class="divided">
    <section class="wrapper style1 align-center ">
        <div class="inner">
            <div class="content-align-left align-left">
                <a href="../index.html" >Home</a>
                &nbsp;&nbsp;&nbsp;
                <a href="./3r2_cn.html">中文/English</a>
            </div>
            <!--            空一段距离-->
            <h1>Fenglvv's Toon Shader</h1>
            <p>Japanese Style Characters Rendering. Model from <a
                    href="https://www.aplaybox.com/details/model/i4Xo1E6NKg2v">Girls Frontier2 MMD.</a><br>
            <ul class="icons">
                <li><a href="https://github.com/FengLvv/Fenglvv-Toon-Shader" class="icon brands style2 fa-github"><span
                        class="label">Twitter</span></a></li>
            </ul>
            <!-- 填满屏幕宽度，高度跟随变化,不自动播放，显示播放按钮，preload-->
            <video style="width: 100%; height: auto;" controls="controls" preload="auto"
                   poster="/FengLvv.github.io/assets/works/3R2_GROZA/1.png">
                <source src="../assets/works/3R2_GROZA/Groza_Compressed.mp4" type="video/mp4">
            </video>
            <br><br>

            <section class="wrapper style1 align-left">
                <h2>Introduction</h2>
                This shader shows part of the process of rendering a Japanese cartoon character<br>
                The shader is based on Unity URP and utilizes URP RenderFeature to customize the rendering pipeline.
                <br> <br>
            </section>
        </div>


        <div class="inner">
            <section class="wrapper style1 align-left">
                <h2>Shader features</h2>
                <ul>
                    <li>Outer stroke: use script to smooth normals and transform to tangent space, record to vertex color rgb, use alpha to control stroke thickness
                        <br>Inside stroke: The screen space compares the model depth to the surrounding depth, and exceeds the threshold to draw an outside stroke
                        <br>Basic coloring: Lambert + GGX highlights + ambient CubeMap + dark overlay gradient mapping
                        <br>
                        <span class="image fit">
                            <img src="../assets/works/3R2_GROZA/overview1.png" alt=""/><br>
                        </span>
                    </li>
                    <li>SDF Face Shadow: Calculate the step value using the Angle between the character's forward direction and the light, dividing the SDF map into shaded and unshaded areas
                        <br>Eyebrows through the hair: Write the hair and face into the template, with the eyebrows drawn at the end, above the face and hair
                        <br>Screen Space Fringe Shadow: Write the face to the template, offset the hair along the direction of the light, and draw the shadow color on the template area
                        <br>
                        <span class="image fit">
                            <img src="../assets/works/3R2_GROZA/overview2.png" alt=""/><br>
                        </span>
                    </li>
                    <li>Use the Vertex Color alpha channel to control the outer stroke thickness and trim the character's hair and face strokes<br>
                        <span class="image fit">
                            <img src="../assets/works/3R2_GROZA/hail_vertCol.png" alt=""/><br>
                        </span>
                    </li>
                    <li><b>Normals remap </b> to optimize the highlight shape
                        <br>The hair normal is mapped to a near-spherical shape to avoid the split between bright and dark bangs and get a smooth distribution of light and dark hair
                        <br>
                        <span class="image fit">
                            <img src="../assets/works/3R2_GROZA/normal_remap.png" alt=""/><br>
                        </span>
                    </li>
                    <li>Draw a Flow Map for the hair along the direction of the highlight flow, convert it to the Tangent space and store it in the map <br>
Drawing Double-layer highlights using the kajiya-kay method <br>
                        <span class="image fit">
                            <img src="../assets/works/3R2_GROZA/flow_map.png" alt=""/><br>
                        </span>
                    </li>

                    <li>Use the parallax mapping to draw the eyeball so that it appears to have depth <br>
                        <span class="image fit">
                            <img src="../assets/works/3R2_GROZA/parallax.png" alt=""/><br>
                        </span>
                    </li>

                    <li> Use a shadow camera in the same direction as Directional Light to separately record the depth of a specific tag object, and compare the depth of the shadow camera in shader to achieve high-precision character self-projection <br>
                        <span class="image fit">
                            <img src="../assets/works/3R2_GROZA/Single_Shadow.png" alt=""/><br>
                        </span>
                    </li>
                </ul>

            </section>
        </div>
    </section>



    <section class="wrapper style1 align-left ">
        <div class="inner">
            <h2> Refence list </h2>
<p>Unity tool development: <a href="... /pages/smoothNormal_cn.html"> Normal Smoothing tool </a> <br>
        </div>
    </section>
</div>


</body>


<!-- Scripts -->
<script src="../assets/js/jquery.min.js"></script>
<script src="../assets/js/jquery.scrollex.min.js"></script>
<script src="../assets/js/jquery.scrolly.min.js"></script>
<script src="../assets/js/browser.min.js"></script>
<script src="../assets/js/breakpoints.min.js"></script>
<script src="../assets/js/util.js"></script>
<script src="../assets/js/main.js"></script>

</html>